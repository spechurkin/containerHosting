# Как работать с хостингом приложений

## Часть 1: Заказ

##### Главное различие с заказом обычного хостинга является разделение услуг на 2 разные категории: "Хостинг приложений" и "Хостинг сайтов". Хостинг сайтов - это обычный хостинг, нам надо выбрать "Хостинг приложений"

![app_hosting](images/app_hosting.png)

##### Дальше всё также, как и на простых хостингах: выбрать интересующий тариф, временную рамку и заказать

![hosting_choice](images/hosting_choice.png)

##### Остаётся только оплатить заказ и подождать, пока площадка создаётся. Обычно это занимает до 10 минут в самых худших случаях

___

## Часть 2: Работа с хостингом приложений

- ##### Различия с обычным хостингом:
-
    - ##### Из характеристик к свободному изменению доступен только размер диска. Количество оперативной памяти меняется только сменой тарифа
-
    - ##### MySQL и FTP доступы доступны не для площадки, а для сайта. SSH всё также доступен по площадке

### SSH

- ##### Важное упоминание: порт подключения к SSH стандартный - 22
- ##### Функционал похож на обычный хостинг, но различается в следующий моментах:
-
    - ##### Можно добавить публичный ключ, загрузив свой

![public_key](images/public_key.png)
![add_key](images/add_key.png)
![upload](images/upload.png)

-
    - ##### Отменить вход по паролю при наличии публичного ключа

![delete_pass](images/delete_pass.png)

-
    - ##### И сменить пароль

![change_pass](images/change_pass.png)

### Сайты

- ##### Размещение сайтов работает примерно также, как и у обычного хостинга за исключением следующих деталей:
-
    - ##### Список сайтов выведен в отдельный блок

![sites](images/sites.png)

-
    - ##### При наличии более 10 сайтов будет включен фильтр

![filter](images/filter.png)

-
    - ##### Само размещение сайтов работает таким образом: нажимаем "Разместить сайт"

![add_site](images/add_site.png)

-
    -
        - Вводим необходимый домен
          ![domain](images/domain.png)
-
    -
        - Выбираем нужную конфигурацию из доступных
          ![config-1](images/config-1.png)
-
    -
        - Или выбираем из фреймворков
          ![config-2](images/config-2.png)
-
    -
        - И размещаем. Сайт сразу будет доступен к переходу и работе
          ![working](images/working.png)

##### Карточка сайта

- ##### Сразу же мы видим настройки хостинга. Они могут разниться от выбора на моменте конфигурации
-
    - ##### Так выглядит наcтройка для PHP

![php](images/php.png)

-
    - ##### И python

![python](images/python.png)

- ##### Для всех настроек существуют подсказки с информацией, за что они отвечают. Пройдёмся кратко

![tooltip-1](images/tooltip-1.png)
![tooltip-2](images/tooltip-2.png)
![tooltip-3](images/tooltip-3.png)

-
    - ##### Количество процессов отвечает за общее количество процессов приложения (максимум 100)
-
    - ##### Количество idle процессов отвечает за минимальное количество процессов, которые работают на поддержание приложения. Не может быть больше общего количества процессов
-
    - ##### Таймаут idle отвечает за отсрочку выключения в секундах процессов сверх количества idle процессов (максимум 9999)
-
    - ##### (Только PHP) index файл - главный запускаемый файл приложения
-
    - ##### (Только PHP) php.ini файл - файл конфигурации php приложения, если у вас есть свой
- ##### Переменные PHP, python и окружения

![php_system](images/php_system.png)
![python_system](images/python_system.png)
![env_system](images/env_system.png)

- ##### Переменные PHP отвечают за заполнение файла php.ini, который можно изменять и дополнять из этого интерфейса
- ##### (Не добавляются новые) Переменные python отвечают за
- ##### Переменные окружения отвечают за все поля, которые появляются в коде
- ##### Добавление переменных происходит так:
-
    - ##### Добавить переменную

![add_env](images/add_env.png)

-
    - ##### Выбрать тип переменной (PHP или окружения для PHP. Для python обавляются только переменные окружения)

![env_choice](images/env_choice.png)

-
    - ##### Ввести имя и значение (разделитель множества значений вроде значения переменной окружения PATH - двоеточие) (для PHP вводить переменные из phpinfo, в окружение - всё, что будет использоваться в коде) и "Применить"
-
    - ##### Новая переменная будет доступна в интерфейсе сразу же
- ##### Кнопки копирования копируют значение в виде `ключ = значение` для PHP и python и `КЛЮЧ "значение"` для переменных окружения

![copy](images/copy.png)

- ##### Кнопки редактирования открывают интерфейс редактирования, схожий с тем, что был для создания, но уже заполненный. Имя переменной изменить нельзя

![edit](images/edit.png)

- ##### Кнопки удаления предлагают подтвердить намерение удалить переменную, посЛе подтверждения чего удаляют переменную

![delete](images/delete.png)

- ##### Удаление, рестарт, отключение сайта
-
    - ##### Все описанные действия выше происходят в контекстном меню тут:

![menu](images/menu.png)
![menu_opened](images/menu_opened.png)

-
    -
        - Рестарт сайта которая перезапускает ваше приложение после внесения изменений
- ##### Синонимы (алиасы) (Пока в доработке)
- ##### SSL-сертификат и выделенный IP работают также, как и у основного хостинга, за исключением интерфейсных различий в Переадресации и невозможности переадресовать на другой домен, если он не синоним

![ssl](images/ssl.png)
![redirect](images/redirect.png)

- ##### FTP доступы

![ftp](images/ftp.png)

-
    - ##### К ftp можно подключиться как скопировав всю строчку соответствующей кнопкой, так и копируя каждое поле отдельно. Примеры подключения будут на примере быстрого подключения в FileZilla
-
    - ##### Подключаемся к ftp серверу, подставив строчки из интерфейса и пароль с почты

![connect](images/connect.png)

-
    - ##### Перед нами открывается проводник сервера. Здесь можно добавить, например, новую папку для нового пользователя (или нет)

![new_folder](images/new_folder.png)

-
    - ##### В интерфейсе на сайте теперь можно создать нового ftp пользователя с доступом из новой папки (или прямо из главной, которая выбрана по умолчанию). Для этого:
-
    -
        - Создать FTP
          ![create_ftp](images/create_ftp.png)
-
    -
        - Вводим логин нового пользователя и выбираем каталог
          ![ftp_interface](images/ftp_interface.png)
-
    -
        - Управление в этом интерфейсе осуществляется, как и в FileZilla. '..' отвечает за подъём вверх по каталогу
          ![ftp_catalog](images/ftp_catalog.png)
-
    -
        - Выбираем нужную папку -> Применить
          ![new_folder_click](images/new_folder_click.png)
-
    -
        - Новый пользователь создаётся в открывающемся подменю
          ![new_user](images/new_user.png)
-
    -
        - Теперь при подключении к нему у него будет доступ только из выбранной для него папки, где он может работать.
          Для примера я уже создал несколько папок
          ![user_folders](images/user_folders.png)
-
    -
        - Созданные там папки видны из главного подключения
          ![main_connect](images/main_connect.png)

##### MySQL

![MySQL](images/MySQL.png)

- ##### Важное упоминание: порт подключения к MySQL стандартный - 3306
- ##### Основной интерфейс располагает знакомыми функциями: копирование логина, хоста и сменой пароля. Также тут можно создать новую БД и выйти в интерфейс phpMyAdmin.
-
    - ##### Создание Базы Данных
-
    -
        - Нажимаем "Создать БД"
          ![create_db](images/create_db.png)
-
    -
        - Вводим название и "Применить"
          ![db_name](images/db_name.png)
-
    -
        - База появляется во второй вкладке
          ![dbs](images/dbs.png)
-
    - ##### Базы данных
-
    -
        - Из этого интерфейса можно очистить и удалить базы данных
          ![clear_db](images/clear_db.png)
-
    -
        - Изначально созданную базу данных удалить отсюда нельзя! Только очистить